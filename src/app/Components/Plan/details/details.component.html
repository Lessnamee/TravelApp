<h2 mat-dialog-title class="title">{{ data.travel.name }}</h2>
<mat-dialog-content>
  <div *ngIf="weatherData" class="weather-info">
    <h2 class="destination">
      Gdzie się wybierasz? <div class="destination-value">{{ weatherData.sys.country }}, {{ weatherData.name }}</div>
    </h2>
    <h2 class="destination">Aktualna pogoda w tym miejscu: <div class="destination-value">{{ weatherData.main.temp }} °C</div></h2>
  </div>
  <mat-divider></mat-divider>

  <h3 class="teammembers">Skład wycieczki:</h3>
<!-- <ul> -->
  <h4 *ngFor="let member of tripMembers">
    - {{ member.email }}
  </h4>
<!-- </ul> -->

<div class="user-changer">
  <mat-form-field>
    <mat-label>Zamień współtowarzyszy</mat-label>
    <mat-select [formControl]="user" multiple>
      <mat-option *ngFor="let user of userList" [value]="user" >{{ user.email }}</mat-option>
    </mat-select>
  </mat-form-field>
  
  <button class="btn" (click)="chooseUsers()">Zmień skład</button>
</div>

<mat-divider></mat-divider>

  <h3 class="teammembers">Rzeczy do zabrania:</h3>
  <ul>
    <li *ngFor="let thing of visibleThings" class="item-to-take">
      <div class="const-width">
      {{ thing }}
      </div>
      <div class="const-width">
      <button mat-icon-button (click)="removeThing(thing)">
        <mat-icon>remove</mat-icon>
      </button>
    </div>
    </li>
  </ul>

  <div class="new-thing-container">
    <mat-form-field>
      <input matInput placeholder="Nowa rzecz" [(ngModel)]="newThing">
    </mat-form-field>

    <button class="input-button btn" mat-button (click)="addThing()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
  <mat-divider></mat-divider>

  <h3 class="teammembers">Atrakcje:</h3>
  <ul>
    <li *ngFor="let visit of visibleVisits" class="item-to-take">
      <div class="const-width">
        <a href="{{ visit.link }}" target="_blank">{{ visit.place }}</a>
      </div>
      <div class="const-width">
        <button mat-icon-button (click)="removeVisit(visit)">
          <mat-icon>remove</mat-icon>
      </button>        </div>     
    </li>
  </ul>

  <div class="new-visit-container">
    <mat-form-field>
      <input matInput placeholder="Nowa atrakcja" [(ngModel)]="newVisit" >
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Link do atrakcji" [(ngModel)]="newVisitLink">
    </mat-form-field>

    <button class="input-button btn" mat-button (click)="addVisit()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
  <mat-divider></mat-divider>

  <h3 class="teammembers">Noclegi:</h3>
  <ul *ngIf="data.travel.selectedHotel">
    <li *ngFor="let hotel of visibleHotel" class="item-to-take">
      <div class="const-width">
        <a href="{{ hotel.link }}" target="_blank">{{ hotel.place }}</a>
      </div>
      <div class="const-width">
        <button mat-icon-button (click)="removeHotel(hotel)">
          <mat-icon>remove</mat-icon>
        </button>
      </div>
      
    </li>
  </ul>

  <div class="new-hotel-container">
    <mat-form-field>
      <input matInput placeholder="Nowy nocleg" [(ngModel)]="newHotel">
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Link do noclegu" [(ngModel)]="newHotelLink">
    </mat-form-field>

    <button class="input-button btn" mat-button (click)="addHotel()">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <mat-divider></mat-divider>

  <h3 class="teammembers">Wydatki:</h3>
  <see-travel-wallet [travelID]="travelID"></see-travel-wallet>

  <div class="new-thing-container">
    <mat-form-field>
      <mat-label>Portfel</mat-label>
      <mat-select [formControl]="wallet">
          <mat-select-trigger>
              {{ wallet.value || '' }}
          </mat-select-trigger>
          <mat-option *ngFor="let wallet of walletList" [value]="wallet.name">{{ wallet.name }}</mat-option>

      </mat-select>
  </mat-form-field>
    <button class="input-button btn" mat-button (click)="addWallet()">Dodaj lub zamień</button>
  </div>
  
<mat-divider></mat-divider>

<div class="new-thing-container" style="justify-content: space-between; margin-top: 10px;">
  <h3 class="teammembers">Wspomnienia: </h3>
  <button class="btn" mat-raised-button (click)="openDialog()">Dodaj wspomnienie</button>
</div>

<div *ngIf="data.travel.memory" >
  <div *ngFor="let memory of data.travel.memory" class="panel">
    <h5>{{ memory.name }}</h5>
    <p>Opis: {{ memory.description }}</p>
    <p>Data dodania: {{ memory.date.toDate() | date: 'yyyy-MM-dd HH:mm:ss' }}</p>
  </div>
</div>

<mat-divider></mat-divider>


</mat-dialog-content>


<mat-dialog-actions align="end">
  <button class="btn" mat-button mat-dialog-close>Zamknij</button>
</mat-dialog-actions>


